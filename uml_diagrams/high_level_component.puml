@startuml

title Active Inference Agent - System Architecture

package "Environment" {
    component GenerativeProcess {
        + step(action) : observation
        + reset()
    }
}

package "AIF Agent" {

    component GenerativeModel {
        A : LikelihoodMatrix
        B : TransitionMatrix
        C : PreferenceVector
        D : PriorBeliefs
    }

    component InferenceEngine {
        + compute_VFE()
        + update_posterior()
    }

    component PolicyEvaluator {
        + compute_EFE()
        + select_policy()
    }

}

package "Visualization" {
    component BeliefPlotter
    component FreeEnergyPlotter
}

GenerativeProcess --> GenerativeModel : observations
GenerativeModel --> InferenceEngine
InferenceEngine --> PolicyEvaluator
PolicyEvaluator --> GenerativeProcess : action
InferenceEngine --> BeliefPlotter
PolicyEvaluator --> FreeEnergyPlotter

@enduml